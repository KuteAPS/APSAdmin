
function fullWebPage(webids) {
    //加载页面列表信息供权限选择
    $.post("/SystemConfig/GetAllWebPage", function (data) {
        var json = eval('(' + data + ')');
        if (json.Success != "success") {
            AjaxDataToastShow(data);
            return;
        }
        var WebList = eval('(' + json.JsonMsg + ')');
        var haveWebs = webids.split(',');
        var html = "";
        var htmlall = "";
        var nowGroup = "";
        var isnew = false;

        for (var i = 0; i < WebList.length; i++) {
            var o = WebList[i];

            if (o.GroupName != nowGroup && nowGroup != "") {
                htmlall += ' <div class="form-group"> <label class="col-sm-12">' + nowGroup + '：</label>' +
                    '<div class="col-sm-12">' +
                    '<fieldset >' + html +
                    '</fieldset>' +
                    '</div></div>';

                html = "";
            }
            nowGroup = o.GroupName;

            var checked = false;
            for (var j = 0; j < haveWebs.length; j++) {
                if (haveWebs[j] == o.Id) checked = true;
            }

            if (checked)
                html += ('<div class="checkbox checkbox-success checkbox-inline"> ' +
                    '<input type="checkbox" name="havingPage" id="web' + o.Id + '" value="' + o.Id + '" checked>' +
                    '<label for="web' + o.Id + '"> ' + o.PageName + '</label>' +
                    '</div>');
            else
                html += ('<div class="checkbox checkbox-success checkbox-inline"> ' +
                    '<input type="checkbox" name="havingPage" id="web' + o.Id + '" value="' + o.Id + '" >' +
                    '<label for="web' + o.Id + '"> ' + o.PageName + '</label>' +
                    '</div>');

            if (i == WebList.length-1) {
                htmlall += ' <div class="form-group"> <label class="col-sm-12">' + nowGroup + '：</label>' +
                   '<div class="col-sm-12">' +
                   '<fieldset >' + html +
                   '</fieldset>' +
                   '</div></div>';
            }
        }

        $("#WebPages").html(htmlall);
    });
}


function fullUserGroup(selectedID) {
    $.post("/SystemConfig/GetUserGroup", function (data) {
        var json = eval('(' + data + ')');
        var html = "";
        var select = "";
        var locked = "";
        if (json.Success != "success") {
            AjaxDataToastShow(data);
            return;
        }

        var GroupList = eval('(' + json.JsonMsg + ')');
        for (var i = 0; i < GroupList.length; i++) {
            var o = GroupList[i];
            if (-1 == o.GroupLock) {
                locked = " (锁)";
            } else {
                locked = "";
            }

            html += ('<option value="' + o.Id + '" ' + select + '>' + o.GroupName + locked + '</option>');
        }

        $("#UserGroup").html(html);
    });
}
