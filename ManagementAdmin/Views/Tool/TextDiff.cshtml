
@{
    ViewBag.Title = "TextDiff";
    Layout = "~/Views/Shared/_LayoutNull.cshtml";
}



<div class="wrapper wrapper-content  animated fadeInRight">
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox ">
                <div class="ibox-title">
                    <h5>文本对比插件</h5>
                </div>
                <div class="ibox-content">

                    <div class="row diff-wrapper2">
                        <div class="col-md-4">
                            <h4>原文本</h4>
                            <textarea class="form-control diff-textarea" id="original" style="height: 500px">
                                百度新闻是包含海量资讯的新闻服务平台,真实反映每时每刻的新闻热点。您可以搜索新闻事件、人物动态、产品资讯等,快速了解它们的最新进展。
                            </textarea>
                        </div><div class="col-md-4">
                            <h4>新文本</h4>
                            <textarea class="form-control diff-textarea" id="changed" style="height: 500px">
                                “百度新闻”是包含海量资讯的新闻服务性质的新闻平台，真实反映新闻热点。您可以搜索新闻事件、热点话题、人物动态、资讯等，快速了解它们的最新进展。
                            </textarea>
                        </div>
                        <div class="col-md-4">
                            <h4>对比结果：</h4>
                            <div class="diff2"></div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="/js/plugins/diff_match_patch/diff_match_patch.js"></script>
<script src="/js/plugins/preetyTextDiff/jquery.pretty-text-diff.min.js"></script>
<script>
    $(document).ready(function () {
        $(".diff-wrapper").prettyTextDiff({ diffContainer: ".diff1" });
        $(".diff-wrapper2").prettyTextDiff({
            originalContent: $("#original").val(),
            changedContent: $("#changed").val(),
            diffContainer: ".diff2"
        });

        $(".diff-textarea").on("change keyup", function () {

            $(".diff-wrapper2").prettyTextDiff({ originalContent: $("#original").val(), changedContent: $("#changed").val(), diffContainer: ".diff2" })
        });
    });
</script>